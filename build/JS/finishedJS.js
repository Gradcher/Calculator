let contentDisplay=document.querySelector("#displayNum");const showNum=function(){0==+contentDisplay.textContent&&(contentDisplay.textContent="");return contentDisplay.textContent+=this.textContent},clearDisplay=function(){contentDisplay.textContent=""},delElDisplay=function(){const t=contentDisplay.textContent.match(/./gu)||[];return t.pop(),contentDisplay.textContent=t.join("")},changeSign=function(){let t=contentDisplay.textContent;const e=t.match(/\d+$/);if(/\(-\d+$/.test(t)){let n=t.replace(/\(-\d+$/,e);return contentDisplay.textContent=n}{let n=t.replace(/\d+$/,"(-"+e);return contentDisplay.textContent=n}},buffer={valueBuffer:0,get memorySave(){return this.valueBuffer=contentDisplay.textContent},get memoryRead(){return isNaN(this.valueBuffer)?contentDisplay.textContent="ERROR":contentDisplay.textContent=this.valueBuffer},get memoryClear(){return this.valueBuffer=0},get add(){return this.valueBuffer=+this.valueBuffer.toString()+ +contentDisplay.textContent.toString()},get subtr(){return this.valueBuffer=+this.valueBuffer.toString()-+contentDisplay.textContent.toString()}},parantheses={get openParanth(){const t=contentDisplay.textContent;if(!/.*(\)|\(\d[√ó√∑.+-]|\d)$/.test(t))return contentDisplay.textContent+="("},get closeParanth(){const t=contentDisplay.textContent;if(!/.*(\(-?|[√ó√∑.+-])$/.test(t)&&0!==t.length)return contentDisplay.textContent+=")"}},verification=function(t){const e=/.$/u;let n=contentDisplay.textContent[contentDisplay.textContent.length-1];switch(e.test(contentDisplay.textContent)&&(n=contentDisplay.textContent.match(e)[0]),t){case"‚àö":if(/[^)\d]/.test(n))return contentDisplay.textContent+=`${t}(`;break;case"e":case"ùúã":if(/[^)\dùúãe]/.test(n)&&n!==t)return contentDisplay.textContent+=t;break;case"!":if(n!==t&&"string"==typeof n&&/\d/.test(n)&&!/\d+\.\d+$/.test(contentDisplay.textContent))return contentDisplay.textContent+=t;break;case"^":case"%":if(n!==t&&"string"==typeof n&&/\d/.test(n))return contentDisplay.textContent+=t;break;case".":if(n!==t&&!/\d+\.\d+$/.test(contentDisplay.textContent)&&!/^0*$|\D0*$/.test(contentDisplay.textContent))return contentDisplay.textContent+=t;break;case"-":return/[0-9()ùúãe!^%]/.test(n)?contentDisplay.textContent+=t:contentDisplay.textContent=`${delElDisplay()}${t}`;default:if(!/[^)\dùúãe!^%]/.test(n))return contentDisplay.textContent+=t;if(n!==t&&"string"==typeof n&&!/^-$|\(-?$/.test(contentDisplay.textContent))return contentDisplay.textContent=`${delElDisplay()}${t}`}},findFac=function(){let t=contentDisplay.textContent.match(/(\d+)!/)[1],e=function(t){return 1===t?1:t*e(t-1)};return e(t)},findPer=function(processValue){const regexpPer=/(?<base>\d+|\d+\.\d+)(?<sign>[/+*-])(?<per>\d+|\d+\.\d+)%/;let groupsPer=processValue.match(regexpPer).groups;const perToNumFromBase=groupsPer.base/100*groupsPer.per,result=eval(`${groupsPer.base}${groupsPer.sign}${perToNumFromBase}`);return result},findPow=function(){const t=contentDisplay.textContent.match(/(?<base>\d+|\d+\.\d+)\^(?<exponent>\d+)/).groups;return Math.pow(t.base,t.exponent)},showResult=function(){let t=contentDisplay.textContent;if(/.+[^√ó√∑.+-]$/.test(t)){let e=t.replace(/√ó/g,"*").replace(/√∑/g,"/").replace(/ùúã/g,"3.141592").replace(/e/g,"2.718281").replace(/‚àö/g,"Math.sqrt");/!/g.test(e)&&(e=e.replace(/(\d+)!/g,findFac())),/%/g.test(e)&&(e=e.replace(/(\d+|\d+\.\d+)[/+*-](\d+|\d+\.\d+)%/g,findPer(e))),/\^/g.test(e)&&(e=e.replace(/(\d+|\d+\.\d+)\^\d+/g,findPow()));try{let t=new Function("return "+e)().toString();return/\d+\.\d{6,}/.test(t)&&(t=t.match(/\d+\.\d{6}/)[0]),contentDisplay.textContent=t}catch(t){return contentDisplay.textContent="*ERROR*"}}};